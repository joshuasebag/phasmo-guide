
<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Journal Phasmophobia – Preuves & Fantômes</title>

  <style>
    :root{
      --bg:#0e1016; --paper:#121420; --ink:#e6e9ef; --muted:#9aa3b2; --accent:#5eead4;
      --line:#1a2235; --chip:#1b2131; --border:#20283a; --ok:#22c55e; --no:#ef4444;
    }
    body{margin:0; font-family:system-ui,Segoe UI,Roboto,Arial; background:#0e1016; color:var(--ink)}
    header{position:sticky; top:0; background:#121420; padding:12px 14px; border-bottom:1px solid var(--border); z-index:10}
    .wrap{max-width:1100px; margin:0 auto; padding:0 14px}
    .tabs{display:flex; gap:8px}
    .tab{padding:8px 12px; border:1px solid var(--border); border-bottom:none; border-radius:10px 10px 0 0; background:#0d1120; color:#cfd6e6; text-decoration:none}
    .tab[data-active="true"]{background:#151a2a; color:#fff}

    main{padding:14px}
    .book{display:grid; grid-template-columns:1fr; gap:18px; background:#121420; border:1px solid var(--border); border-radius:14px; padding:18px}

    /* Preuves */
    .chips{display:flex; flex-wrap:wrap; gap:8px}
    .chip{display:flex; align-items:center; gap:8px; padding:8px 10px; background:var(--chip); border:1px solid var(--border); border-radius:999px}
    .chip .name{font-weight:600}
    .chip button{appearance:none; border:1px solid var(--border); background:#0e1322; color:#cfd6e6; padding:3px 7px; border-radius:7px; cursor:pointer; font-size:12px}
    .chip button[data-state="include"]{border-color:#1e3a2f; background:#0c1713; color:#a7f3d0}
    .chip button[data-state="exclude"]{border-color:#3a1e1e; background:#170c0c; color:#fecaca}

    section[hidden]{display:none !important}
    .count{color:#9aa3b2}
    .hr{height:1px; background:linear-gradient(90deg,transparent,var(--line),transparent); margin:10px 0}

    /* Carte probables (Journal) */
    .card{border:1px solid var(--border); background:#0d1120; border-radius:12px; padding:12px}
    .card-title{font-weight:700; margin-bottom:8px}
    .mini-list{display:flex; flex-wrap:wrap; gap:8px}
    .mini-ghost{
      padding:6px 10px; border-radius:999px; background:#11162a; border:1px solid var(--border);
      font-size:12px; color:#cfe3ff
    }

    /* Fantômes */
    .toolbar{display:flex; gap:10px; align-items:center; flex-wrap:wrap; margin-bottom:8px}
    .search{flex:1; min-width:220px}
    .search input{width:100%; padding:10px 12px; border-radius:10px; border:1px solid var(--border); background:#0d1120; color:#e6e9ef}

    .ghosts{display:grid; grid-template-columns:repeat(auto-fill,minmax(260px,1fr)); gap:10px}
    .ghost{
      border:1px solid var(--border); background:#0d1120; border-radius:12px; padding:12px;
      display:flex; flex-direction:column; gap:10px
    }
    .ghost.candidate{ outline:1px solid #1c3b2f; box-shadow:0 0 0 2px rgba(34,197,94,.15) inset }
    .name{font-weight:700}
    .badges{display:flex; flex-wrap:wrap; gap:6px}
    .badge{
      padding:2px 8px; border-radius:999px; border:1px solid var(--border);
      background:#11162a; font-size:12px; color:#cfe3ff
    }
    .badge.ok{background:#0e1e17; color:#befae2; border-color:#1c3b2f}
    .badge.no{background:#1e0f0f; color:#fecaca; border-color:#3a1e1e}

    .ghost .meta{display:flex; gap:8px; flex-wrap:wrap; font-size:12px; color:#9aa3b2}
    .tag{border:1px solid var(--border); background:#0f1526; border-radius:6px; padding:2px 6px}
    .more{display:none; border-top:1px dashed #1e2a48; padding-top:8px}
    .ghost.open .more{display:block}
    .ghost .tools{display:flex; gap:8px; flex-wrap:wrap}
    .ghost .btn{
      appearance:none; cursor:pointer; border:1px solid var(--border); background:#0e1322; color:#cfd6e6;
      padding:6px 10px; border-radius:8px; font-size:12px; text-decoration:none
    }
    .ghost .btn.primary{background:#103a33; border-color:#1c3b2f; color:#a7f3d0}
    .ghost .btn.link{background:transparent; border-color:#2a3759}
    .src{font-size:12px; color:#9aa3b2}
    .src a{color:#a7f3d0; text-decoration:none}
  </style>
</head>

<body>

  <header>
    <div class="wrap">
      <nav class="tabs" role="tablist" aria-label="Sections du journal">
        <a class="tab" href="#journal"  id="tab-journal">Journal</a>
        <a class="tab" href="#fantomes" id="tab-fantomes">Fantômes</a>
        <a class="tab" href="#options"  id="tab-options">Options</a>
      </nav>
    </div>
  </header>

  <main class="wrap">
    <div class="book">

      <!-- JOURNAL -->
      <section id="journal" aria-labelledby="tab-journal">
        <h2>Preuves</h2>
        <p class="count" id="state-summary" aria-live="polite"></p>
        <div class="chips" id="proof-chips"></div>

        <!-- Encadré FANTÔMES PROBABLES -->
        <div class="hr"></div>
        <div class="card" id="probables-card">
          <div class="card-title">Fantômes probables</div>
          <div class="mini-list" id="probables-box"></div>
        </div>
      </section>

      <!-- FANTOMES -->
      <section id="fantomes" aria-labelledby="tab-fantomes" hidden>
        <div class="toolbar">
          <div class="search">
            <input type="search" id="ghost-search" placeholder="Rechercher un fantôme (nom, preuve)…" aria-label="Rechercher un fantôme" />
          </div>
          <div class="count" id="ghost-count"></div>
        </div>

        <div class="hr"></div>

        <div class="ghosts" id="ghost-list"></div>
      </section>

      <!-- OPTIONS -->
      <section id="options" aria-labelledby="tab-options" hidden>
        <button id="reset-all">Réinitialiser</button>
