
<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Journal Phasmophobia – Preuves & Fantômes</title>

  <style>
    /* --- Base --- */
    :root{
      --border:#20283a; --ink:#e6e9ef; --muted:#9aa3b2;
    }
    body{margin:0; font-family:system-ui,Segoe UI,Roboto,Arial; background:#0e1016; color:var(--ink)}
    header{position:sticky; top:0; background:#121420; padding:12px 14px; border-bottom:1px solid var(--border)}
    .wrap{max-width:1000px; margin:0 auto; padding:0 14px}
    .tabs{display:flex; gap:8px}
    .tab{padding:8px 12px; border:1px solid var(--border); border-bottom:none; border-radius:10px 10px 0 0; background:#0d1120; color:#cfd6e6; text-decoration:none}
    .tab[data-active="true"]{background:#151a2a; color:#fff}

    main{padding:14px}
    .book{display:grid; grid-template-columns:1fr; gap:18px; background:#121420; border:1px solid var(--border); border-radius:14px; padding:18px}

    /* --- Preuves (chips) --- */
    .chips{display:flex; flex-wrap:wrap; gap:8px}
    .chip{display:flex; align-items:center; gap:8px; padding:8px 10px; background:#1b2131; border:1px solid var(--border); border-radius:999px}
    .chip .name{font-weight:600}
    .chip button{appearance:none; border:1px solid var(--border); background:#0e1322; color:#cfd6e6; padding:3px 7px; border-radius:7px; cursor:pointer; font-size:12px}
    .chip button[data-state="include"]{border-color:#1e3a2f; background:#0c1713; color:#a7f3d0}
    .chip button[data-state="exclude"]{border-color:#3a1e1e; background:#170c0c; color:#fecaca}

    section[hidden]{display:none !important}
    .count{color:var(--muted)}

    /* --- HR --- */
    .hr{height:1px; background:linear-gradient(90deg,transparent,#1a2235,transparent); margin:10px 0}

    /* --- Carte Probables --- */
    .card{border:1px solid var(--border); background:#0d1120; border-radius:12px; padding:12px}
    .card-title{font-weight:700; margin-bottom:8px}
    .mini-list{display:flex; flex-wrap:wrap; gap:8px}
    .mini-ghost{
      padding:6px 10px; border-radius:999px; background:#11162a; border:1px solid var(--border);
      font-size:12px; color:#cfe3ff
    }

    /* --- Onglet Fantômes --- */
    .toolbar{display:flex; gap:10px; align-items:center; flex-wrap:wrap; margin-bottom:8px}
    .search{flex:1; min-width:220px}
    .search input{
      width:100%; padding:10px 12px; border-radius:10px; border:1px solid var(--border);
      background:#0d1120; color:#e6e9ef
    }

    .ghosts{display:grid; grid-template-columns:repeat(auto-fill,minmax(220px,1fr)); gap:10px}
    .ghost{
      border:1px solid var(--border); background:#0d1120; border-radius:12px; padding:12px;
      display:flex; flex-direction:column; gap:8px
    }
    .ghost.candidate{ outline:1px solid #1c3b2f; box-shadow:0 0 0 2px rgba(34,197,94,.15) inset }
    .name{font-weight:700}
    .badges{display:flex; flex-wrap:wrap; gap:6px}
    .badge{
      padding:2px 8px; border-radius:999px; border:1px solid var(--border);
      background:#11162a; font-size:12px; color:#cfe3ff
    }
    .badge.ok{background:#0e1e17; color:#befae2; border-color:#1c3b2f}
    .badge.no{background:#1e0f0f; color:#fecaca; border-color:#3a1e1e}
    .badge.mimic{background:#241a0b; color:#f7e3b3; border-color:#6b4e1e}
  </style>
</head>

<body>

  <header>
    <div class="wrap">
      <nav class="tabs" role="tablist" aria-label="Sections du journal">
        <a class="tab" href="#journal"  id="tab-journal">Journal</a>
        <a class="tab" href="#fantomes" id="tab-fantomes">Fantômes</a>
        <a class="tab" href="#options"  id="tab-options">Options</a>
      </nav>
    </div>
  </header>

  <main class="wrap">
    <div class="book">

      <!-- JOURNAL -->
      <section id="journal">
        <h2>Preuves</h2>
        <p class="count" id="state-summary" aria-live="polite"></p>
        <div class="chips" id="proof-chips"></div>

        <!-- Encadré FANTÔMES PROBABLES -->
        <div class="hr"></div>
        <div class="card" id="probables-card">
          <div class="card-title">Fantômes probables</div>
          <div class="mini-list" id="probables-box"></div>
        </div>
      </section>

      <!-- FANTOMES -->
      <section id="fantomes" hidden>
        <div class="toolbar">
          <div class="search">
            <input type="search" id="ghost-search" placeholder="Rechercher un fantôme (nom, preuve)…" aria-label="Rechercher un fantôme">
          </div>
          <div class="count" id="ghost-count"></div>
        </div>

        <div class="hr"></div>

        <div class="ghosts" id="ghost-list"></div>
      </section>

      <!-- OPTIONS -->
      <section id="options" hidden>
        <button id="reset-all">Réinitialiser</button>
      </section>

    </div>
  </main>

<script>
/* =========================
   DONNÉES DES PREUVES
========================= */
const PROOFS = [
  { id:'emf',      label:'EMF Niveau 5' },
  { id:'orbe',     label:'Orbe' },
  { id:'spirit',   label:'Spirit Box' },
  { id:'freezing', label:'Températures glaciales' },
  { id:'uv',       label:'Traces UV' },
  { id:'dots',     label:'D.O.T.S' },
  { id:'writing',  label:'Écriture fantomatique' },
];

/* =========================
   DONNÉES DES FANTÔMES (27)
   v0.15.x + Dayan/Gallu/Obambo
========================= */
const GHOSTS = [
  { name:'Esprit',        proofs:['emf','spirit','writing'] },                  // Spirit
  { name:'Spectre',       proofs:['dots','emf','spirit'] },                     // Wraith
  { name:'Fantôme',       proofs:['dots','uv','spirit'] },                      // Phantom
  { name:'Poltergeist',   proofs:['uv','spirit','writing'] },
  { name:'Banshee',       proofs:['dots','orbe','uv'] },
